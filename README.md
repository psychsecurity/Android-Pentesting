# Android-Pentesting
Android Pentesting Wiki

## Install Burp CA as a system-level trusted CA

Export the CA Certificate in DER format > cacert.der

Convert to PEM format:

`openssl x509 -inform DER -in cacert.der -out cacert.pem`

`openssl x509 -inform PEM -subject_hash_old -in cacert.pem |head -1`

`mv cacert.pem <hash>.0`


Copy cert to device:

`adb root`

`adb remount`

`adb push <cert>.0 /sdcard/`

^ if adb cannot be run as root use adbd insecure from play store

## Frida 
Grab frida-server from `https://github.com/frida/frida/releases`
copy to `/data/local/tmp/` on device
Run 
`chmod 755 frida-server`
`./frida-server &`

Check adb can see device
`adb devices -l`

Check process list

`frida-ps -U`

Check packages

`adb shell pm list packages blah`

Disable root detection and bypass sslpinning

`frida -l both.js -U -f com.blah.app --no-pause`

## Objection 

`objection --gadget 8710 explore`

`env`

`android <tab complete for other options>`

#MobSF to analyse APK


## Pull APK from installed device

```adb devices

adb shell pm list packages

adb shell pm path <packagename.apk>

adb shell cp /data/app/<packagename.apk> /sdcard

adb pull /sdcard/base.apk```


